{% extends "base.html" %}

{% block title %}SwissRPG â€” Schedule a session{% endblock %}

{% block content %}
<div id="main">
    <h2>Schedule your next Game Session</h2>
    <p>
        Previous Session:<br>
        {% match link %}
        {% when Some with (url) %}
        <a href="{{ url }}">{{ title }}</a>
        {% when None %}
        {{ title }}
        {% endmatch %}
    </p>
    <h3>Details of the next session</h3>
    <p>
    <form method="post" name="scheduleSessionForm" autocomplete="off">
        Date:<br>
        <select name="day" autocomplete="off">
            {% for i in 1..=31 %}
            <option value="{{ i }}" {% if day==i %}selected{% endif %}>{{ i }}</option>
            {% endfor %}
        </select>
        <select name="month" autocomplete="off">
            <option value="1" {% if month==1 %}selected{% endif %}>Jan</option>
            <option value="2" {% if month==2 %}selected{% endif %}>Feb</option>
            <option value="3" {% if month==3 %}selected{% endif %}>Mar</option>
            <option value="4" {% if month==4 %}selected{% endif %}>Apr</option>
            <option value="5" {% if month==5 %}selected{% endif %}>May</option>
            <option value="6" {% if month==6 %}selected{% endif %}>Jun</option>
            <option value="7" {% if month==7 %}selected{% endif %}>Jul</option>
            <option value="8" {% if month==8 %}selected{% endif %}>Aug</option>
            <option value="9" {% if month==9 %}selected{% endif %}>Sep</option>
            <option value="10" {% if month==10 %}selected{% endif %}>Oct</option>
            <option value="11" {% if month==11 %}selected{% endif %}>Nov</option>
            <option value="12" {% if month==12 %}selected{% endif %}>Dec</option>
        </select>
        <select name="year" autocomplete="off">
            {% for y in selectable_years %}
            <option value="{{ y }}" {% if year|isequal(y) %}selected{% endif %}>{{ y }}</option>
            {% endfor %}
        </select>
        <br>
        Time:<br>
        <select name="hour" autocomplete="off">
            {% for i in 0..=23 %}
            <option value="{{ i }}" {% if hour==i %}selected{% endif %}>{{ format!("{:02}", i) }}</option>
            {% endfor %}
        </select>
        :
        <select name="minute" autocomplete="off">
            {% for i in 0..=59 %}
            <option value="{{ i }}" {% if minute==i %}selected{% endif %}>{{ format!("{:02}", i) }}</option>
            {% endfor %}
        </select>
        <br>
        Duration:<br>
        <select name="duration" autocomplete="off">
            {% for i in [30, 60, 90, 120, 150, 180, 210, 240, 270, 300, 330, 360, 390, 420, 450, 480, 510, 540, 570,
            600, 630, 660, 690, 720] %}
            <option value="{{ i }}" {% if duration|isequal(i) %}selected{% endif %}>
                {{ i|format_minutes_to_hhmm }}</option>
            {% endfor %}
        </select>
        <br>
        <label for="participant_limit">Maximum number of (new) participants:</label>
        <br>
        <input type="number" name="participant_limit" id="participant_limit" value="0" min="0" max="100"
            autocomplete="off"><br>
        When you specify a number larger than 0 the new session will be published on Meetup for new people to sign up.
        <br>
        <input type="checkbox" name="with_session_number" id="with_session_number" value="yes" autocomplete="off" {% if
            with_session_number %}checked{% endif %}>
        <label for="with_session_number">Include session number in title</label>
        <br>
        <button type="submit">Schedule</button>
    </form>
    </p>
</div>
{% endblock %}