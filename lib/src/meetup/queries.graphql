query UpcomingEventsQuery($urlname: String!, $first: Int!, $after: String) {
  groupByUrlname(urlname: $urlname) {
    events(input: {first: $first, after: $after}) {
      pageInfo {
        hasNextPage
        endCursor
      }
      totalCount
      edges {
        node {
          id
          title
          eventUrl
          description
          eventHosts {
            member {
              id
            }
          }
          dateTime
          maxTickets
          rsvpSettings {
            rsvpsClosed
          }
          venues {
            lat
            lon
            city
            venueType
          }
          group {
            urlname
          }
        }
      }
    }
  }
}

query EventTicketsQuery($id: ID!, $first: Int!, $after: String) {
  event(id: $id) {
    rsvps(input: {first: $first, after: $after}) {
      pageInfo {
        hasNextPage
        endCursor
      }
      totalCount
      edges {
        node {
          member {
            id
          }
        }
      }
    }
  }
}

query SelfQuery {
  self {
    id
    name
    memberPhoto {
      id
      baseUrl
    }
  }
}

query EventQuery($id: ID!) {
  event(id: $id) {
    id
    title
    eventUrl
    description
    eventHosts {
      member {
        id
      }
    }
    howToFindUs
    dateTime
    maxTickets
    rsvpSettings {
      rsvpsClosed
    }
    venues {
      id
      lat
      lon
      city
      venueType
    }
    group {
      urlname
    }
    numberOfAllowedGuests
  }
}

query GroupMembershipQuery($urlname: String!) {
  groupByUrlname(urlname: $urlname) {
    isMember
    isPrimaryOrganizer
    membershipMetadata {
      status
      role
    }
  }
}

mutation CreateEventMutation($input: CreateEventInput!) {
  createEvent(input: $input) {
    event {
      id
      title
      eventUrl
      description
      eventHosts {
        member {
          id
        }
      }
      dateTime
      maxTickets
      rsvpSettings {
        rsvpsClosed
      }
      venues {
        lat
        lon
        city
        venueType
      }
      group {
        urlname
      }
    }
    errors {
      code
      message
      field
    }
  }
}

mutation CloseEventRsvpsMutation($input: CloseEventRsvpsInput!) {
  closeEventRsvps(input: $input) {
    event {
      id
    }
    errors {
      code
      message
      field
    }
  }
}